<!DOCTYPE html>
<html lang="es" data-bs-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>CyberSafe Portal - Estadísticas</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">

  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet">

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="bg-body text-body">

<nav class="navbar navbar-expand-lg bg-body-tertiary fixed-top border-bottom">
  <div class="container-fluid">
    <a class="navbar-brand fw-bold text-primary" href="index.html">CyberSafe Portal</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarLinks">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarLinks">
      <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
        <li class="nav-item"><a class="nav-link" href="index.html">Inicio</a></li>
        <li class="nav-item"><a class="nav-link" href="alertas.html">Alertas</a></li>
        <li class="nav-item"><a class="nav-link active" href="estadisticas.html">Estadísticas</a></li>
        <li class="nav-item"><a class="nav-link" href="quiz.html">Quiz</a></li>
        <li class="nav-item">
          <button class="btn btn-outline-primary btn-sm ms-3" id="themeToggle" aria-label="Cambiar tema">
            <i class="bi bi-moon-stars-fill"></i>
          </button>
        </li>
      </ul>
    </div>
  </div>
</nav>

<!-- Header -->
<div class="container pt-5 mt-4 text-center">
  <h2 class="fw-bold text-primary">Estadísticas</h2>
  <p class="text-secondary">Dashboard de métricas y tendencias en seguridad informática</p>
</div>

<!-- Stats Cards -->
<div class="container my-5">
  <div class="row g-4">
    <div class="col-md-3">
      <div class="p-4 bg-body-secondary rounded shadow-sm h-100">
        <div class="d-flex justify-content-between align-items-center mb-2">
          <span class="fw-semibold">Incidentes Reportados</span>
          <i class="bi bi-shield-check text-success fs-5"></i>
        </div>
        <h3 class="fw-bold">1,925</h3>
      </div>
    </div>
    <div class="col-md-3">
      <div class="p-4 bg-body-secondary rounded shadow-sm h-100">
        <div class="d-flex justify-content-between align-items-center mb-2">
          <span class="fw-semibold">Alertas Activas</span>
          <i class="bi bi-exclamation-triangle text-warning fs-5"></i>
        </div>
        <h3 class="fw-bold">314</h3>
      </div>
    </div>
    <div class="col-md-3">
      <div class="p-4 bg-body-secondary rounded shadow-sm h-100">
        <div class="d-flex justify-content-between align-items-center mb-2">
          <span class="fw-semibold">Vulnerabilidades Críticas</span>
          <i class="bi bi-lock-fill text-danger fs-5"></i>
        </div>
        <h3 class="fw-bold">87</h3>
      </div>
    </div>
    <div class="col-md-3">
      <div class="p-4 bg-body-secondary rounded shadow-sm h-100">
        <div class="d-flex justify-content-between align-items-center mb-2">
          <span class="fw-semibold">Usuarios Capacitados</span>
          <i class="bi bi-people-fill text-primary fs-5"></i>
        </div>
        <h3 class="fw-bold">5,678</h3>
        
      </div>
    </div>
  </div>
</div>

<!-- Gráficas -->
<div class="container mb-5">
  <div class="row g-4">
    <div class="col-md-6">
      <div class="p-4 bg-body-secondary rounded shadow-sm">
        <h5 class="fw-bold">Incidentes por Categoría</h5>
        <p class="text-muted small">Distribución de amenazas detectadas</p>
        <canvas id="chartBar" height="250"></canvas>
      </div>
    </div>
    <div class="col-md-6">
      <div class="p-4 bg-body-secondary rounded shadow-sm">
        <h5 class="fw-bold">Tendencia Temporal</h5>
        <p class="text-muted small">Evolución de incidentes en los últimos 6 meses</p>
        <canvas id="chartLine" height="250"></canvas>
      </div>
    </div>
  </div>
</div>

<!-- Footer -->
<footer class="bg-body-tertiary border-top mt-5 py-3">
  <div class="container d-flex flex-column flex-md-row justify-content-between align-items-center">
    <div class="d-flex align-items-center mb-2 mb-md-0">
     
      <span class="fw-semibold">CyberSafe Portal</span>
    </div>
    <small class="text-secondary text-end">
      © 2025 CyberSafe Portal. Educación en seguridad informática.
    </small>
  </div>
</footer>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>

<!-- Theme toggle -->
<script>
  const themeToggle = document.getElementById('themeToggle');
  const icon = themeToggle.querySelector('i');

  function updateIcon(theme) {
    icon.className = theme === 'dark' ? 'bi bi-sun-fill' : 'bi bi-moon-stars-fill';
  }

  themeToggle.addEventListener('click', () => {
    const currentTheme = document.documentElement.getAttribute('data-bs-theme');
    const newTheme = currentTheme === 'light' ? 'dark' : 'light';
    document.documentElement.setAttribute('data-bs-theme', newTheme);
    localStorage.setItem('theme', newTheme);
    updateIcon(newTheme);
  });

  const savedTheme = localStorage.getItem('theme') || 'light';
  document.documentElement.setAttribute('data-bs-theme', savedTheme);
  updateIcon(savedTheme);
</script>

<!-- Chart.js config -->
<script>
  // Gráfico de Barras (sin líneas de fondo)
  new Chart(document.getElementById('chartBar'), {
    type: 'bar',
    data: {
      labels: ['Phishing', 'Malware', 'Robo', 'Vulnerabilidad'],
      datasets: [{
        label: 'Casos detectados',
        data: [430, 350, 280, 160],
        backgroundColor: '#20c997'
      }]
    },
    options: {
      responsive: true,
      plugins: {
        legend: { display: false }
      },
      scales: {
        y: {
          beginAtZero: true,
          grid: { display: false },
          ticks: { color: 'inherit' }
        },
        x: {
          grid: { display: false },
          ticks: { color: 'inherit' }
        }
      }
    }
  });

  // Gráfico de Línea (sin líneas de fondo)
  new Chart(document.getElementById('chartLine'), {
    type: 'line',
    data: {
      labels: ['Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dic'],
      datasets: [{
        label: 'Incidentes',
        data: [95, 112, 88, 130, 145, 158],
        borderColor: '#0d6efd',
        backgroundColor: 'rgba(13,110,253,0.1)',
        tension: 0.4,
        fill: true,
        pointRadius: 4,
        pointBackgroundColor: '#0d6efd'
      }]
    },
    options: {
      responsive: true,
      plugins: {
        legend: {
          labels: { color: 'inherit' }
        }
      },
      scales: {
        y: {
          beginAtZero: true,
          grid: { display: false },
          ticks: { color: 'inherit' }
        },
        x: {
          grid: { display: false },
          ticks: { color: 'inherit' }
        }
      }
    }
  });
</script>


</body>
</html>
